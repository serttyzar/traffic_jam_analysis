# Traffic Jam Analysis with YOLOv8 and ByteTrack üö¶üöó

–ú–æ–¥—É–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏–∑–∞ –¥–æ—Ä–æ–∂–Ω—ã—Ö –ø—Ä–æ–±–æ–∫ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **YOLOv8** –¥–ª—è –¥–µ—Ç–µ–∫—Ü–∏–∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ –∏ **ByteTrack** –¥–ª—è —Ç—Ä–µ–∫–∏–Ω–≥–∞ –æ–±—ä–µ–∫—Ç–æ–≤. –ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é –æ—Ü–µ–Ω–∫—É —Ç—Ä–∞—Ñ–∏–∫–∞ –ø–æ 10-–±–∞–ª–ª—å–Ω–æ–π —à–∫–∞–ª–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–ª–æ—Ç–Ω–æ—Å—Ç–∏, —Å–∫–æ—Ä–æ—Å—Ç–∏, –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏ –¥—Ä—É–≥–∏—Ö –º–µ—Ç—Ä–∏–∫. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ –≤–∏–¥–µ–æ, –≤–∫–ª—é—á–∞—è –∑–∞–≥—Ä—É–∑–∫—É —Å YouTube —á–µ—Ä–µ–∑ `yt-dlp`.

---

## üîß –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–î–µ—Ç–µ–∫—Ü–∏—è –∏ —Ç—Ä–µ–∫–∏–Ω–≥ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞**
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π, –º–æ—Ç–æ—Ü–∏–∫–ª–æ–≤, –∞–≤—Ç–æ–±—É—Å–æ–≤ –∏ –≥—Ä—É–∑–æ–≤–∏–∫–æ–≤
  - –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è YOLOv8 –∏ ByteTrack
- **–û—Ü–µ–Ω–∫–∞ –ø—Ä–æ–±–æ–∫ –ø–æ 10-–±–∞–ª–ª—å–Ω–æ–π —à–∫–∞–ª–µ**:
  - üìè –ü–ª–æ—Ç–Ω–æ—Å—Ç—å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ –≤ ROI (–æ–±–ª–∞—Å—Ç–∏ –∏–Ω—Ç–µ—Ä–µ—Å–∞)
  - üöó –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∞—à–∏–Ω
  - üïí –°—Ä–µ–¥–Ω—è—è —Å–∫–æ—Ä–æ—Å—Ç—å
  - üìâ –î–∏—Å–ø–µ—Ä—Å–∏—è —Å–∫–æ—Ä–æ—Å—Ç–µ–π
  - ‚õî –î–æ–ª—è –Ω–µ–ø–æ–¥–≤–∏–∂–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
- **–°–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ –º–µ—Ç—Ä–∏–∫** ‚Äî —Å–∫–æ–ª—å–∑—è—â–µ–µ —Å—Ä–µ–¥–Ω–µ–µ –ø–æ 50 –∫–∞–¥—Ä–∞–º
- **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è**:
  - ROI (–∂—ë–ª—Ç–∞—è —Ä–∞–º–∫–∞, 90% –∫–∞–¥—Ä–∞)
  - Bounding box'—ã: –∑–µ–ª—ë–Ω—ã–µ (–≤–Ω—É—Ç—Ä–∏ ROI), —Å–µ—Ä—ã–µ (–≤–Ω–µ)
  - –ù–∞–ª–æ–∂–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–∏–¥–µ–æ –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**
- **–ó–∞–≥—Ä—É–∑–∫–∞ –≤–∏–¥–µ–æ —Å YouTube** —á–µ—Ä–µ–∑ `yt-dlp`
- **–ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** –¥–ª—è –ª—ë–≥–∫–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

---

## üóÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
traffic-jam-analysis/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ detector.py         # YOLOv8 + ByteTrack
‚îÇ   ‚îú‚îÄ‚îÄ traffic_analyzer.py # –õ–æ–≥–∏–∫–∞ –æ—Ü–µ–Ω–∫–∏ —Ç—Ä–∞—Ñ–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ visualizer.py       # –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –º–µ—Ç–æ–∫ –∏ –≥—Ä–∞—Ñ–∏–∫–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ processor.py        # –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–∏–¥–µ–æ/–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ main.py             # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞, YouTube-–∑–∞–≥—Ä—É–∑–∫–∞
‚îÇ   ‚îî‚îÄ‚îÄ utils/              # –£—Ç–∏–ª–∏—Ç—ã (–ø–æ–∫–∞ –ø—É—Å—Ç–æ)
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îî‚îÄ‚îÄ sample_images/      # –í—Ö–æ–¥–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ output/                 # –û–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –≤–∏–¥–µ–æ, –≥—Ä–∞—Ñ–∏–∫–∏, –ª–æ–≥–∏
‚îú‚îÄ‚îÄ results/
‚îÇ   ‚îú‚îÄ‚îÄ screenshots/        # –°–∫—Ä–∏–Ω—à–æ—Ç—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ graphs/             # –ì—Ä–∞—Ñ–∏–∫–∏ –∞–Ω–∞–ª–∏–∑–∞
‚îÇ   ‚îî‚îÄ‚îÄ logs/               # –¢–µ–∫—Å—Ç–æ–≤—ã–µ –ª–æ–≥–∏
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ LICENSE
‚îî‚îÄ‚îÄ .gitignore
```

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
git clone https://github.com/your-username/traffic-jam-analysis.git
cd traffic-jam-analysis
pip install -r requirements.txt
```

---

## üì• –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö

- –î–æ–±–∞–≤—å—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –ø–∞–ø–∫—É `data/sample_images/`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –≤–∏–¥–µ–æ —Å YouTube

---

## ‚öôÔ∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç–∏ –≤ `src/main.py`, –Ω–∞–ø—Ä–∏–º–µ—Ä:

```python
image_dir = "data/sample_images"
image_output_path = "output/output_traffic_images.mp4"
```

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç:

```bash
python src/main.py
```

### üìà –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

- üé• –í–∏–¥–µ–æ: `output/output_traffic_images.mp4`, ...
- üìÑ –õ–æ–≥–∏: `output/output_traffic_images.txt`, ...
- üìä –ì—Ä–∞—Ñ–∏–∫–∏: `output/output_traffic_images_stats.png`, ...

---

## üñº –ü—Ä–∏–º–µ—Ä—ã

### üîç –°–∫—Ä–∏–Ω—à–æ—Ç—ã

–°–æ–∑–¥–∞–π—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç —Å –ø–æ–º–æ—â—å—é ffmpeg:

```bash
ffmpeg -i output/output_traffic_1.mp4 -vf "select=eq(n\,100)" -vframes 1 results/screenshots/screenshot_1.png
```

–î–æ–±–∞–≤—å—Ç–µ –≤ Git:

```bash
git add results/screenshots/screenshot_1.png
git commit -m "–î–æ–±–∞–≤–ª–µ–Ω —Å–∫—Ä–∏–Ω—à–æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞"
git push
```

### üìä –ì—Ä–∞—Ñ–∏–∫–∏

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `output/`.

```bash
cp output/output_traffic_1_stats.png results/graphs/traffic_stats_1.png
git add results/graphs/traffic_stats_1.png
git commit -m "–î–æ–±–∞–≤–ª–µ–Ω –≥—Ä–∞—Ñ–∏–∫ –º–µ—Ç—Ä–∏–∫"
git push
```

### üìÑ –õ–æ–≥–∏

```bash
cp output/output_traffic_1.txt results/logs/traffic_log_1.txt
git add results/logs/traffic_log_1.txt
git commit -m "–î–æ–±–∞–≤–ª–µ–Ω –ª–æ–≥ –∞–Ω–∞–ª–∏–∑–∞"
git push
```

---

## üõ† –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### ‚öñÔ∏è –í–µ—Å–æ–≤—ã–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã (–≤ `traffic_analyzer.py`):

```python
points = 10 * (
    0.4 * density_norm +
    0.2 * car_count_norm +
    0.2 * (1 - speed_norm) +
    0.1 * (1 - speed_var_norm) +
    0.1 * stationary_ratio
)
```

### ü™ü –°–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ –º–µ—Ç—Ä–∏–∫:

```python
window_size = 100
```

### üìç –û–±–ª–∞—Å—Ç—å –∏–Ω—Ç–µ—Ä–µ—Å–∞ (ROI):

```python
roi = (10, 10, 630, 350)  # –í —Ñ–∞–π–ª–µ processor.py
```

### üé¨ –ó–∞–≥—Ä—É–∑–∫–∞ –≤–∏–¥–µ–æ —Å YouTube:

```python
video_urls = [
    ("https://www.youtube.com/watch?v=zOq2XdwHGT0", "test_video_1.mp4"),
    ...
]
```

---

## üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–°–º. `requirements.txt`:

- Python 3.8+
- `opencv-python`
- `ultralytics`
- `matplotlib`
- `lap`
- `numpy`
- `yt-dlp`

–£—Å—Ç–∞–Ω–æ–≤–∫–∞:

```bash
pip install -r requirements.txt
```

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License. –ü–æ–¥—Ä–æ–±–Ω–µ–µ —Å–º. [LICENSE](./LICENSE).